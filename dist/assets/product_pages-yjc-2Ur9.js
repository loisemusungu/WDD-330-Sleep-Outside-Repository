import{g as a,s as c,d,l as n,a as s}from"./utils-C-RgQSnL.js";import{E as i}from"./ExternalServices-D0VG2S6o.js";class u{constructor(e,r){this.productId=e,this.product={},this.dataSource=r}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=a("so-cart")||[],r=e.find(o=>o.Id===this.product.Id);r?r.quantity+=1:(this.product.quantity=1,e.push(this.product)),c("so-cart",e),d(".cart_count","so-cart")}renderProductDetails(){m(this.product)}}function m(t){document.querySelector("h2").textContent=t.Brand.Name,document.querySelector("h3").textContent=t.NameWithoutBrand;const e=document.getElementById("productImage");e.src=t.Images.PrimaryLarge,e.alt=t.NameWithoutBrand;const r=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(Number(t.FinalPrice)*.85);document.querySelector("#productPrice").textContent=`${r}`,document.querySelector("#productColor").textContent=t.Colors[0].ColorName,document.querySelector("#productDesc").innerHTML=t.DescriptionHtmlSimple,document.querySelector("#addToCart").dataset.id=t.Id}n();const l=new i("tents"),h=s("product"),p=new u(h,l);p.init();
