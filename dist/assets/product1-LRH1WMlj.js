import{g as u,s as h,a as p}from"./utils-BehrpxuA.js";/* empty css              */function l(r){if(r.ok)return r.json();throw new Error("Bad Response")}class m{constructor(t){this.category=t,this.path=`../json/${this.category}.json`}getData(){return fetch(this.path).then(l).then(t=>t)}async findProductById(t){return(await this.getData()).find(e=>e.Id===t)}}class g{constructor(t,o){this.productID=t,this.product={},this.dataSource=o}async init(){this.product=await this.dataSource.findProductById(this.productID),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){let t=u("so-cart")||[];t.push(this.product),h("so-cart",t)}renderProductDetails(){const t=document.querySelector(".product-detail"),o=t.cloneNode(!0);t.innerHTML="";const[e,a,c,d,s,n]=o.querySelectorAll("h3, h2, img, p, p, p"),i=o.querySelector("div.product-detail__add > #addToCart");e.textContent=this.product.Brand.Name,a.textContent=this.product.NameWithoutBrand,c.src=this.product.Image,c.alt=`${this.product.Name} Image`,d.textContent=`$${this.product.FinalPrice}`,s.textContent=this.product.Colors[0].ColorName,n.innerHTML=this.product.DescriptionHtmlSimple,i.dataset.id=this.productID,t.replaceWith(o)}}const D=new m("tents"),C=p(),P=new g(C,D);P.init();
